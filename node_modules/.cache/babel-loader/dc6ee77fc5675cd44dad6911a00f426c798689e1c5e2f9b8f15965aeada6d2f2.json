{"ast":null,"code":"import _objectSpread from\"/home/theticarcher38/code/RRW/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{v4 as uuidv4}from'uuid';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminPage=()=>{const[authenticated,setAuthenticated]=useState(false);const[login,setLogin]=useState({username:'',password:''});const[event,setEvent]=useState({title:'',description:'',startTime:'',endTime:''});// Ensure you have these variables set in your .env file (REACT_APP_USERNAME, REACT_APP_PASSWORD)\nconst username=process.env.REACT_APP_USERNAME||'';const password=process.env.REACT_APP_PASSWORD||'';const handleLogin=e=>{e.preventDefault();if(login.username===username&&login.password===password){setAuthenticated(true);}else{alert('Invalid login');}};const handleSubmit=e=>{e.preventDefault();// Optional: Validate start and end times\nif(new Date(event.endTime)<=new Date(event.startTime)){alert('End time must be after start time');return;}const newEvent=_objectSpread(_objectSpread({},event),{},{id:uuidv4()});// Safely parse existing events from localStorage\nconst stored=localStorage.getItem('events');let eventsData={events:[]};if(stored){try{const parsed=JSON.parse(stored);if(Array.isArray(parsed)){// Legacy flat array detected — wrap in object\neventsData={events:parsed};}else if(parsed&&Array.isArray(parsed.events)){eventsData=parsed;}}catch(err){// Parsing failed — reset to default\neventsData={events:[]};}}// Add new event and save\neventsData.events.push(newEvent);localStorage.setItem('events',JSON.stringify(eventsData));alert('Event saved to localStorage!');// Reset form fields\nsetEvent({title:'',description:'',startTime:'',endTime:''});};if(!authenticated){return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,className:\"admin-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Admin Login\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Username\",value:login.username,onChange:e=>setLogin(_objectSpread(_objectSpread({},login),{},{username:e.target.value})),required:true,autoComplete:\"username\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Password\",type:\"password\",value:login.password,onChange:e=>setLogin(_objectSpread(_objectSpread({},login),{},{password:e.target.value})),required:true,autoComplete:\"current-password\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"})]});}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"admin-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add New Event\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Title\",value:event.title,onChange:e=>setEvent(_objectSpread(_objectSpread({},event),{},{title:e.target.value})),required:true}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Description\",value:event.description,onChange:e=>setEvent(_objectSpread(_objectSpread({},event),{},{description:e.target.value})),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",value:event.startTime,onChange:e=>setEvent(_objectSpread(_objectSpread({},event),{},{startTime:e.target.value})),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",value:event.endTime,onChange:e=>setEvent(_objectSpread(_objectSpread({},event),{},{endTime:e.target.value})),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Event\"})]});};export default AdminPage;","map":{"version":3,"names":["React","useState","v4","uuidv4","jsx","_jsx","jsxs","_jsxs","AdminPage","authenticated","setAuthenticated","login","setLogin","username","password","event","setEvent","title","description","startTime","endTime","process","env","REACT_APP_USERNAME","REACT_APP_PASSWORD","handleLogin","e","preventDefault","alert","handleSubmit","Date","newEvent","_objectSpread","id","stored","localStorage","getItem","eventsData","events","parsed","JSON","parse","Array","isArray","err","push","setItem","stringify","onSubmit","className","children","placeholder","value","onChange","target","required","autoComplete","type"],"sources":["/home/theticarcher38/code/RRW/src/pages/AdminPage.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\n\ninterface Event {\n  id: string;\n  title: string;\n  description: string;\n  startTime: string;\n  endTime: string;\n}\n\nconst AdminPage: React.FC = () => {\n  const [authenticated, setAuthenticated] = useState(false);\n  const [login, setLogin] = useState({ username: '', password: '' });\n  const [event, setEvent] = useState({\n    title: '',\n    description: '',\n    startTime: '',\n    endTime: '',\n  });\n\n  // Ensure you have these variables set in your .env file (REACT_APP_USERNAME, REACT_APP_PASSWORD)\n  const username = process.env.REACT_APP_USERNAME || '';\n  const password = process.env.REACT_APP_PASSWORD || '';\n\n  const handleLogin = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (login.username === username && login.password === password) {\n      setAuthenticated(true);\n    } else {\n      alert('Invalid login');\n    }\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n\n    // Optional: Validate start and end times\n    if (new Date(event.endTime) <= new Date(event.startTime)) {\n      alert('End time must be after start time');\n      return;\n    }\n\n    const newEvent: Event = {\n      ...event,\n      id: uuidv4(),\n    };\n\n    // Safely parse existing events from localStorage\n    const stored = localStorage.getItem('events');\n    let eventsData: { events: Event[] } = { events: [] };\n\n    if (stored) {\n      try {\n        const parsed = JSON.parse(stored);\n        if (Array.isArray(parsed)) {\n          // Legacy flat array detected — wrap in object\n          eventsData = { events: parsed };\n        } else if (parsed && Array.isArray(parsed.events)) {\n          eventsData = parsed;\n        }\n      } catch (err) {\n        // Parsing failed — reset to default\n        eventsData = { events: [] };\n      }\n    }\n\n    // Add new event and save\n    eventsData.events.push(newEvent);\n    localStorage.setItem('events', JSON.stringify(eventsData));\n\n    alert('Event saved to localStorage!');\n\n    // Reset form fields\n    setEvent({\n      title: '',\n      description: '',\n      startTime: '',\n      endTime: '',\n    });\n  };\n\n  if (!authenticated) {\n    return (\n      <form onSubmit={handleLogin} className=\"admin-form\">\n        <h2>Admin Login</h2>\n        <input\n          placeholder=\"Username\"\n          value={login.username}\n          onChange={(e) => setLogin({ ...login, username: e.target.value })}\n          required\n          autoComplete=\"username\"\n        />\n        <input\n          placeholder=\"Password\"\n          type=\"password\"\n          value={login.password}\n          onChange={(e) => setLogin({ ...login, password: e.target.value })}\n          required\n          autoComplete=\"current-password\"\n        />\n        <button type=\"submit\">Login</button>\n      </form>\n    );\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"admin-form\">\n      <h2>Add New Event</h2>\n      <input\n        placeholder=\"Title\"\n        value={event.title}\n        onChange={(e) => setEvent({ ...event, title: e.target.value })}\n        required\n      />\n      <textarea\n        placeholder=\"Description\"\n        value={event.description}\n        onChange={(e) => setEvent({ ...event, description: e.target.value })}\n        required\n      />\n      <input\n        type=\"datetime-local\"\n        value={event.startTime}\n        onChange={(e) => setEvent({ ...event, startTime: e.target.value })}\n        required\n      />\n      <input\n        type=\"datetime-local\"\n        value={event.endTime}\n        onChange={(e) => setEvent({ ...event, endTime: e.target.value })}\n        required\n      />\n      <button type=\"submit\">Add Event</button>\n    </form>\n  );\n};\n\nexport default AdminPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}